{% extends "herobase/layout/layout-3-6-3.html" %}
{% load i18n %}

{% block page_title %}
    <h1>{% trans "Leaderboard" %}</h1>
{% endblock %}

{% block content %}
    <div>
        <h2>global</h2>
        <ul class="leaderboard">
    {% for userprofile in total|slice:":10" %}
        {% if userprofile.user.username == "dummy" %}
            <li class="more"><a href="#">...</a></li>
        {% else %}
            <li {% if userprofile.user.username == myname %} class="self" {% endif %}>
                <div class="position">{{ userprofile.rank }}.</div>
                <img src="{{ userprofile.avatar_thumb }}"></a>
                <div class="user"><a href="{% url userprofile-public userprofile.user.username %}">{{ userprofile.user.username }}</a></div>
                <div class="meta">{{ userprofile.experience }} XP</div>
            </li>
        {% endif %}
    {% endfor %}
        </ul>
        {% if local %}
        <h2>local</h2>
        <ul class="leaderboard">
            {% for userprofile in local|slice:":10" %}
                {% if userprofile.user.username == "dummy" %}
                    <li class="more"><a href="#">...</a></li>
                {% else %}
                    <li {% if userprofile.user.username == myname %} class="self" {% endif %}>
                        <div class="position">{{ userprofile.localrank }}.</div>
                        <img src="{{ userprofile.avatar_thumb }}"></a>
                        <div class="user"><a href="{% url userprofile-public userprofile.user.username %}">{{ userprofile.user.username }}</a></div>
                        <div class="meta">{{ userprofile.experience }} XP</div>
                    </li>
                {% endif %}
            {% endfor %}
        </ul>
        {% endif %}
        <h2><span class="yellow-stripe">Nach Organisierten Quests</span></h2>
    <ul>
        {% for user in top_creators|slice:":10" %}
            <li><a href="{% url userprofile-public user.username %}">{{ user.username }}: {{ user.quest_count }} Quests</a></li>
        {% endfor %}
    </ul>
{#    <h3>Nach Klasse</h3>#}
{#    {% for class_name, leaders in by_class.items  %}#}
{#        <h4>{{ class_name }}</h4>#}
{#        <ul>#}
{#            {% for user in leaders|slice:":10" %}#}
{#                <li><a href="{% url userprofile-public user.username %}">{{ user.username }}: {{ user.get_profile.experience }} Erfahrung</a></li>#}
{#            {% endfor %}#}
{#        </ul>#}
{#    {% endfor %}#}
{##}
{#    <h3>Nach Arten von Quests</h3>#}
{#    {% for class_name, leaders in by_quest_class.items  %}#}
{#        <h4>{{ class_name }}</h4>#}
{#        <ul>#}
{#            {% for user in leaders|slice:":10" %}#}
{#                <li><a href="{% url userprofile-public user.username %}">{{ user.username }}: {{ user.class_experience }} Erfahrung</a></li>#}
{#            {% endfor %}#}
{#        </ul>#}
{#    {% endfor %}#}
    </div>
{% endblock %}